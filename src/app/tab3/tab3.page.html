<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Commandes
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card
    *ngFor="let order of treatedOrders"
    [routerLink]="['/order-details', order.orderId]"
  >
    <ion-grid>
      <ion-row>
        <ion-col size="6">
          <span
            ><strong>Date: </strong>{{ order.orderTime | date:"dd/MM/yyyy
            HH:mm"}}</span
          >
        </ion-col>
        <ion-col size="6" style="text-align: end;">
          <span><strong>Statut: </strong></span>
          <span
            *ngIf="order.orderStatus == 1"
            style="color: grey; font-style: italic;"
            >En cours de livraison</span
          >
          <span
            *ngIf="order.orderStatus == 2"
            style="color: green; font-weight: bold;"
            >Livrée ({{ order.realDeliveryTime | date:"HH:mm" }})</span
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12">
          <span><strong>Prix: </strong> {{ order.orderPrice }} DT</span>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12">
          <span
            ><strong>Prix de livraison: </strong> {{ order.deliveryPrice }}
            DT</span
          >
        </ion-col>
      </ion-row>

      <ion-row class="ion-align-items-center">
        <ion-col size="8" style="padding-right: 0px;">
          <span><strong>Livreur: </strong></span>
          <span>{{ order.deliveryManName }}</span>
        </ion-col>
        <ion-col size="4" class="noPadding" style="text-align: left;">
          <img
            class="imgCircle"
            height="35"
            width="35"
            src="../../assets/Moez.jpg"
            alt="Img livreur"
          />
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6">
          <ion-button
            style="text-transform: none;"
            color="warning"
            fill="outline"
          >
            <ion-icon slot="end" name="alert-circle"></ion-icon>
            Réclamation
          </ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button fill="outline" [routerLink]="['/track-delivery']">
            Suivre
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>
</ion-content>
